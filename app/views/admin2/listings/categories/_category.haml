.list-group-item.nested-1{data: {id: category.id}}
  .nestedItemWrapper
    .categoryName
      = category.display_name(I18n.locale)
    .actions
      %span.handle-move{'aria-hidden' => true, data: {intercom_target: t('admin2.categories.reorder_category')}}
      - if !category.can_destroy?
      - elsif category.remove_needs_caution?
        = link_to remove_popup_admin2_listings_category_path(category), data: { intercom_target: t('admin2.categories.delete_category_hint') }, remote: true do
          %span.remove
      - else
        = link_to '#', class: 'remove-category', data: { intercom_target: t('admin2.categories.delete_category_hint'), url: admin2_listings_category_path(category), caption: t('admin2.categories.delete_category', category: category.display_name(I18n.locale)) } do
          %span.remove

      = link_to edit_admin2_listings_category_path(category), remote: true do
        %span.edit{data: {intercom_target: t('admin2.categories.edit_category_hint')}}

  .list-group.nested-sortable{data: {id: category.id}, class: "#{'empty-sortable' if category.children.empty?}"}
    - unless category.children.empty?
      = render partial: 'subcategory', collection: category.children, locals: { category_count: category.children.size }
